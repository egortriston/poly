<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Админ-панель чатов | СПбПУ</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">

</head>

<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <img src="image/logo01.svg" alt="Логотип СПбПУ" class="logo">

                <div class="header-actions">
                    <div class="search-container">
                        <input type="text" placeholder="Поиск..." class="search-input">
                        <button class="search-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </button>
                    </div>

                    <button class="message-btn" id="chatBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>

                    <button class="login-btn active">Админ-панель</button>
                </div>
                <img src="image/logo.svg" alt="Логотип СПбПУ" class="logo-ipmt">
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav>
        <div class="container">
            <ul class="nav-menu">
                <li><a href="index.html">Главная</a></li>
                <li><a href="materials.html">Материалы</a></li>
                <li><a href="events.html">Мероприятия</a></li>
                <li><a href="news.html">Новости</a></li>
                <li><a href="programs.html">Образовательные программы</a></li>
                <li><a href="admin-chat.html" class="active">Админ-панель</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <h1 class="section-title">Админ-панель чатов</h1>

            <div class="admin-container">
                <!-- Список пользователей -->
                <div class="users-list">
                    <div class="search-users">
                        <input type="text" placeholder="Поиск пользователей..." id="userSearch">
                    </div>

                    <div class="user-card active">
                        <img src="image/images.png" alt="Аватар" class="user-avatar">
                        <div class="user-info">
                            <div class="user-name">Иванов Иван</div>
                            <div class="user-last-message">Здравствуйте, у меня вопрос по курсу...</div>
                        </div>
                        <div class="user-time">12:30</div>
                        <div class="unread-count">3</div>
                    </div>

                    <div class="user-card">
                        <img src="image/images.png" alt="Аватар" class="user-avatar">
                        <div class="user-info">
                            <div class="user-name">Петрова Анна</div>
                            <div class="user-last-message">Спасибо за помощь!</div>
                        </div>
                        <div class="user-time">10:45</div>
                    </div>

                    <div class="user-card">
                        <img src="image/images.png" alt="Аватар" class="user-avatar">
                        <div class="user-info">
                            <div class="user-name">Сидоров Алексей</div>
                            <div class="user-last-message">Когда будет следующее занятие?</div>
                        </div>
                        <div class="user-time">Вчера</div>
                        <div class="unread-count">1</div>
                    </div>

                    <div class="user-card">
                        <img src="image/images.png" alt="Аватар" class="user-avatar">
                        <div class="user-info">
                            <div class="user-name">Кузнецова Мария</div>
                            <div class="user-last-message">Отправила задание на проверку</div>
                        </div>
                        <div class="user-time">Пн</div>
                    </div>

                    <div class="user-card">
                        <img src="image/images.png" alt="Аватар" class="user-avatar">
                        <div class="user-info">
                            <div class="user-name">Васильев Дмитрий</div>
                            <div class="user-last-message">Не могу войти в личный кабинет</div>
                        </div>
                        <div class="user-time">12 мая</div>
                    </div>
                </div>

                <div class="chat-container">
                    <div class="chat-header">
                        <img src="image/images.png" alt="Аватар" class="user-avatar">
                        <div class="chat-header-info">
                            <div class="chat-header-name">Иванов Иван</div>
                            <div class="chat-header-status">В сети</div>
                        </div>
                    </div>

                    <div class="admin-controls">
                        <button id="userDetailsBtn">Информация о пользователе</button>
                        <button id="closeChatBtn">Закрыть чат</button>
                    </div>

                    <div class="user-details" id="userDetails" style="display: none;">
                        <div class="user-details-item">
                            <span class="user-details-label">ФИО:</span>
                            <span class="user-details-value">Иванов Иван Иванович</span>
                        </div>
                        <div class="user-details-item">
                            <span class="user-details-label">Email:</span>
                            <span class="user-details-value">ivanov@edu.spbstu.ru</span>
                        </div>
                        <div class="user-details-item">
                            <span class="user-details-label">Высшая школа:</span>
                            <span class="user-details-value">ВШБИ</span>
                        </div>
                        <div class="user-details-item">
                            <span class="user-details-label">Должность:</span>
                            <span class="user-details-value">Студент</span>
                        </div>
                        <div class="user-details-item">
                            <span class="user-details-label">Телефон:</span>
                            <span class="user-details-value">+7 (900) 123-45-67</span>
                        </div>
                    </div>

                    <div class="chat-messages">
                        <div class="admin-message user">
                            Здравствуйте, у меня вопрос по курсу машинного обучения
                            <span class="message-time">12:30</span>
                        </div>

                        <div class="admin-message admin">
                            Здравствуйте, Иван! Чем могу помочь?
                            <span class="message-time">12:32</span>
                        </div>

                        <div class="admin-message user">
                            Не могу найти материалы к последней лекции. Где они размещены?
                            <span class="message-time">12:33</span>
                        </div>

                        <div class="admin-message admin">
                            Материалы доступны в разделе "Курсы" → "Машинное обучение" → "Лекция 5". Если не найдете,
                            могу отправить ссылку.
                            <span class="message-time">12:35</span>
                        </div>

                        <div class="typing-indicator">
                            Пользователь печатает...
                            <div class="typing-dots">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                    </div>

                    <div class="chat-input-container">
                        <input type="text" class="chat-input" placeholder="Введите сообщение..." id="adminMessageInput">
                        <button class="send-btn" id="sendAdminMessage">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M22 2L11 13" stroke="white" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="white" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Контакты</h3>
                    <p>Санкт-Петербург, Политехническая ул., 29</p>
                    <p>+7 (812) 123-45-67</p>
                    <p>info@spbstu.ru</p>
                </div>

                <div class="footer-section">
                    <h3>Быстрые ссылки</h3>
                    <a href="#">Расписание</a>
                    <a href="#">Преподаватели</a>
                    <a href="#">Библиотека</a>
                    <a href="#">Техподдержка</a>
                </div>

                <div class="footer-section">
                    <h3>Социальные сети</h3>
                    <a href="#">ВКонтакте</a>
                    <a href="#">Telegram</a>
                    <a href="#">YouTube</a>
                    <a href="#">Twitter</a>
                </div>
            </div>

            <div class="copyright">
                <p>© 2023 Санкт-Петербургский политехнический университет Петра Великого. Все права защищены.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Переключение между пользователями
            const userCards = document.querySelectorAll('.user-card');
            userCards.forEach(card => {
                card.addEventListener('click', function () {
                    userCards.forEach(c => c.classList.remove('active'));
                    this.classList.add('active');

                    // Здесь можно добавить загрузку истории чата с выбранным пользователем
                    document.querySelector('.unread-count')?.remove();
                });
            });

            // Отправка сообщения
            const sendBtn = document.getElementById('sendAdminMessage');
            const messageInput = document.getElementById('adminMessageInput');
            const chatMessages = document.querySelector('.chat-messages');

            sendBtn.addEventListener('click', sendMessage);
            messageInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });

            function sendMessage() {
                const messageText = messageInput.value.trim();
                if (messageText) {
                    const now = new Date();
                    const timeString = now.getHours() + ':' + (now.getMinutes() < 10 ? '0' : '') + now.getMinutes();

                    const messageElement = document.createElement('div');
                    messageElement.className = 'admin-message admin';
                    messageElement.innerHTML = `
                        ${messageText}
                        <span class="message-time">${timeString}</span>
                    `;

                    chatMessages.appendChild(messageElement);
                    messageInput.value = '';

                    // Прокрутка к новому сообщению
                    chatMessages.scrollTop = chatMessages.scrollHeight;

                    // Здесь можно добавить отправку сообщения на сервер
                }
            }

            // Показать/скрыть детали пользователя
            const userDetailsBtn = document.getElementById('userDetailsBtn');
            const userDetails = document.getElementById('userDetails');

            userDetailsBtn.addEventListener('click', function () {
                if (userDetails.style.display === 'none') {
                    userDetails.style.display = 'block';
                    this.textContent = 'Скрыть информацию';
                } else {
                    userDetails.style.display = 'none';
                    this.textContent = 'Информация о пользователе';
                }
            });

            // Поиск пользователей
            const userSearch = document.getElementById('userSearch');
            userSearch.addEventListener('input', function () {
                const searchTerm = this.value.toLowerCase();
                userCards.forEach(card => {
                    const userName = card.querySelector('.user-name').textContent.toLowerCase();
                    const userMessage = card.querySelector('.user-last-message').textContent.toLowerCase();

                    if (userName.includes(searchTerm) || userMessage.includes(searchTerm)) {
                        card.style.display = 'flex';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });

            // Закрытие чата (для мобильной версии)
            const closeChatBtn = document.getElementById('closeChatBtn');
            closeChatBtn.addEventListener('click', function () {
                document.querySelector('.chat-container').style.display = 'none';
                document.querySelector('.users-list').style.width = '100%';
            });
        });
    </script>
</body>

</html>